{"version":3,"sources":["webpack:///./src/components/user/register.vue","webpack:///./src/components/user/register.vue?1ecf"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_Toast","position","onClick","_ctx","push","name","_hoisted_3","_hoisted_5","_component_InputText","type","$setup","registerForm","$event","placeholder","$error","_hoisted_6","_toDisplayString","_hoisted_7","email","_hoisted_8","_hoisted_9","account","_hoisted_10","_hoisted_11","password","_hoisted_12","_hoisted_13","confirmPassword","_hoisted_14","_hoisted_15","phone","_hoisted_16","setup","router","useRouter","toast","useToast","rules","computed","required","minLength","sameAs","state","reactive","v$","useVuelidate","handleSubmit","async","value","$validate","data","Account","Password","Name","Email","Phone","add","severity","summary","group","callApi","createMember","catch","__exports__","render"],"mappings":"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","file":"js/chunk-2d0daac2.d95cf948.js","sourcesContent":["<template>\n  <div class=\"register\">\n    <Toast position=\"center\" />\n    <div class=\"register-button\">\n      <span @click=\"$router.push({ name: 'Login' })\">會員登入</span>\n      <p>註冊會員</p>\n    </div>\n    <div class=\"register-data\">\n      <div>\n        <p>姓名*</p>\n        <InputText type=\"text\" v-model=\"state.registerForm.name\" placeholder=\"請輸入您的姓名\" />\n        <span v-if=\"v$.name.$error\"> {{ '請輸入名字' }} </span>\n      </div>\n      <div>\n        <p>電子郵件*</p>\n        <InputText type=\"text\" v-model=\"state.registerForm.email\" placeholder=\"請輸入您的Email帳號\" />\n        <span v-if=\"v$.email.$error\"> {{ '請輸入電子郵件' }} </span>\n      </div>\n      <div>\n        <p>帳號*</p>\n        <InputText type=\"text\" v-model=\"state.registerForm.account\" placeholder=\"請輸入最少6位以上\" />\n        <span v-if=\"v$.account.$error\"> {{ '帳號請輸入最少6位以上' }} </span>\n      </div>\n      <div>\n        <p>密碼*</p>\n        <InputText type=\"password\" v-model=\"state.registerForm.password\" placeholder=\"請輸入最少8位以上\" />\n        <span v-if=\"v$.password.$error\"> {{ '密碼請輸入最少8位以上' }} </span>\n      </div>\n      <div>\n        <p>密碼確認*</p>\n        <InputText type=\"password\" v-model=\"state.registerForm.confirmPassword\" placeholder=\"請再次輸入您的密碼\" />\n        <span v-if=\"v$.confirmPassword.$error\"> {{ '請再次輸入密碼' }} </span>\n      </div>\n      <div>\n        <p>聯絡電話*</p>\n        <InputText type=\"number\" v-model=\"state.registerForm.phone\" placeholder=\"請輸入您的聯絡電話\" />\n        <span v-if=\"v$.phone.$error\"> {{ '請輸入聯絡電話' }} </span>\n      </div>\n      <div class=\"row vertical center\">\n        <button @click=\"handleSubmit\" class=\"button_confirm\">加入會員</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { reactive, computed } from 'vue'\nimport { email, required, minLength, sameAs } from '@vuelidate/validators'\nimport useVuelidate from '@vuelidate/core'\nimport { useToast } from 'primevue/usetoast'\nimport { createMember } from '@/service/api'\nimport { callApi } from '@/utils/callApi'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'Register',\n  setup() {\n    const router = useRouter()\n    const toast = useToast()\n    const rules = computed(() => {\n      return {\n        name: { required, minLength: minLength(2) },\n        account: { required, minLength: minLength(6) },\n        email: { required, email },\n        password: { required, minLength: minLength(8) },\n        confirmPassword: { required, sameAs: sameAs(state.registerForm.password) },\n        phone: { required, minLength: minLength(10) }\n      }\n    })\n    const state = reactive({\n      registerForm: {\n        account: '',\n        name: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        phone: ''\n      }\n    })\n    const v$ = useVuelidate(rules, state.registerForm)\n    const handleSubmit = async () => {\n      v$.value.$validate()\n      const data = {\n        Account: state.registerForm.account,\n        Password: state.registerForm.password,\n        Name: state.registerForm.name,\n        Email: state.registerForm.email,\n        Phone: state.registerForm.phone\n      }\n      if (!v$.value.$error) {\n        await callApi(createMember, data, async () => {\n          toast.add({ severity: 'success', summary: '註冊成功！', group: 'successBox' })\n          await router.push({ name: 'Login' })\n        }).catch(() => {\n          toast.add({ severity: 'error', summary: '註冊失敗，請重新輸入', group: 'errorBox' })\n        })\n      } else {\n        toast.add({ severity: 'error', summary: '註冊失敗，請重新輸入', group: 'errorBox' })\n      }\n    }\n    return {\n      state,\n      v$,\n      rules,\n      handleSubmit\n    }\n  }\n}\n</script>\n","import { render } from \"./register.vue?vue&type=template&id=095ff09c\"\nimport script from \"./register.vue?vue&type=script&lang=js\"\nexport * from \"./register.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/risu_ann/Documents/web/dessert_work/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}