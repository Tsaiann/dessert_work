{"version":3,"sources":["webpack:///./src/components/guideLine.vue","webpack:///./src/components/guideLine.vue?397e","webpack:///./src/components/cart/fillInfo.vue","webpack:///./src/components/cart/fillInfo.vue?fbe9"],"names":["class","data-space-bottom","_createElementBlock","_createVNode","_component_Breadcrumb","home","$setup","model","name","props","data","Array","setup","pageData","reactive","icon","to","__exports__","render","data-width","_createElementVNode","style","data-inset","for","data-space-top","_component_Toast","position","group","message","slot","_hoisted_5","_toDisplayString","summary","_hoisted_6","_component_Button","label","onClick","data-space-right","ID","_component_guideLine","_component_Steps","_hoisted_13","_component_Checkbox","id","$event","binary","onChange","_hoisted_16","_hoisted_18","_component_InputText","type","memberForm","Name","_hoisted_20","Phone","_hoisted_22","Email","_hoisted_23","Address","_hoisted_25","_component_Textarea","recipientForm","OrderRemark","rows","cols","placeholder","_hoisted_28","_hoisted_31","_hoisted_33","Recipient","_hoisted_34","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_40","Addr","_hoisted_41","_hoisted_42","_hoisted_44","_component_Calendar","showIcon","_hoisted_45","components","guideLine","reload","inject","router","useRouter","toast","useToast","store","useStore","purchaserChecked","ref","recipientChecked","date","state","Discounts","PaymentMethod","getters","payment","DeliveryMethod","delivery","discountForm","MemberID","Amount","orderTotal","guideData","steps","reloadForm","onMounted","recForm","JSON","parse","localStorage","getItem","purForm","handlePrePage","removeChange","push","submitOrder","add","severity","onRejectCheckout","removeGroup","onConfirmCheckout","async","discount","callApi","submitGoodsCart","createDiscount","commit","catch","purChecked","value","memberData","res","Data","recChecked","method","caseObj","purchase","setTimeout","setItem","stringify","recipient","removeItem"],"mappings":"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","file":"js/chunk-30ea379c.68a02176.js","sourcesContent":["<template>\n  <div class=\"guide\" data-space-bottom=\"2.5rem\">\n    <Breadcrumb :home=\"home\" :model=\"pageData\" />\n  </div>\n</template>\n<script>\nimport { reactive } from 'vue'\nexport default {\n  name: 'GuideLine',\n  props: {\n    data: Array\n  },\n  setup(props) {\n    const pageData = props.data\n    const home = reactive({\n      icon: 'pi pi-home',\n      to: '/content'\n    })\n    return {\n      pageData,\n      home\n    }\n  }\n}\n</script>\n","import { render } from \"./guideLine.vue?vue&type=template&id=4fad1ac4\"\nimport script from \"./guideLine.vue?vue&type=script&lang=js\"\nexport * from \"./guideLine.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/risu_ann/Documents/web/dessert_work/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"cart container\">\n    <Toast position=\"center\" group=\"cartCheckout\">\n      <template #message=\"slot\">\n        <div class=\"row horizontal\">\n          <div data-width=\"100%\">\n            <div class=\"row vertical center\">\n              <i class=\"pi pi-exclamation-circle\" style=\"font-size: 3rem\" data-space-bottom=\"1rem\"></i>\n              <h4>{{ slot.message.summary }}</h4>\n              <nav></nav>\n            </div>\n            <div class=\"row horizontal center\">\n              <Button class=\"p-button-success\" label=\"取消\" @click=\"onRejectCheckout\" data-space-right=\"1rem\"></Button>\n              <Button class=\"p-button-secondary\" label=\"確定\" @click=\"onConfirmCheckout(slot.message.ID)\"></Button>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Toast>\n    <guideLine :data=\"guideData\" />\n    <div class=\"cart-page\">\n      <div class=\"card\">\n        <Steps :model=\"steps\" />\n      </div>\n      <div class=\"fillInfo\">\n        <div class=\"fillInfo-left\">\n          <div class=\"purchaser\" data-space-bottom=\"1rem\">\n            <h2>購買人資訊</h2>\n            <div data-inset=\"1rem\">\n              <div class=\"field-checkbox\">\n                <Checkbox id=\"binary\" v-model=\"purchaserChecked\" :binary=\"true\" @change=\"purChecked\" />\n                <label for=\"binary\">購買人資料與會員資料相同</label>\n              </div>\n              <div data-space-bottom=\"0.5rem\">\n                <p>姓名</p>\n                <InputText type=\"text\" v-model=\"state.memberForm.Name\" @change=\"onChange('purchase')\" />\n              </div>\n              <div data-space-bottom=\"0.5rem\">\n                <p>電話號碼</p>\n                <InputText type=\"text\" v-model=\"state.memberForm.Phone\" @change=\"onChange('purchase')\" />\n              </div>\n              <div data-space-bottom=\"0.5rem\">\n                <p>電子信箱</p>\n                <InputText type=\"text\" v-model=\"state.memberForm.Email\" @change=\"onChange('purchase')\" />\n              </div>\n              <div>\n                <p>收件地址</p>\n                <InputText type=\"text\" v-model=\"state.memberForm.Address\" @change=\"onChange('purchase')\" />\n              </div>\n            </div>\n          </div>\n          <div class=\"remark\" data-space-bottom=\"1.5rem\">\n            <h2>備註</h2>\n            <div class=\"row horizontal center\" data-inset=\"1rem\">\n              <Textarea v-model=\"state.recipientForm.OrderRemark\" rows=\"5\" cols=\"30\" placeholder=\"有任何額外需求請打在此處\" data-width=\"100%\" />\n            </div>\n          </div>\n          <button class=\"button_cancel\" data-width=\"40%\" @click=\"handlePrePage\">⇽ 返回購物車</button>\n        </div>\n        <div class=\"fillInfo-right\">\n          <h2>送貨資訊</h2>\n          <div data-inset=\"1rem\">\n            <div class=\"field-checkbox\">\n              <Checkbox id=\"binary\" v-model=\"recipientChecked\" :binary=\"true\" @change=\"recChecked\" />\n              <label for=\"binary\">收件人資料與購買人相同</label>\n            </div>\n            <div data-space-bottom=\"0.5rem\">\n              <h3>收件人姓名</h3>\n              <InputText type=\"text\" v-model=\"state.recipientForm.Recipient\" @change=\"onChange('recipient')\" />\n              <p>請填入收件人真實姓名，以確保順利收件</p>\n            </div>\n            <div data-space-bottom=\"0.5rem\">\n              <h3>聯絡電話</h3>\n              <InputText type=\"text\" v-model=\"state.recipientForm.Phone\" @change=\"onChange('recipient')\" />\n              <p>取貨通知將以此電話聯繫</p>\n            </div>\n            <div data-space-bottom=\"0.5rem\">\n              <h3>電子信箱</h3>\n              <InputText type=\"text\" v-model=\"state.recipientForm.Email\" @change=\"onChange('recipient')\" />\n            </div>\n            <div>\n              <h3>收件地址</h3>\n              <InputText type=\"text\" data-space-bottom=\"1rem\" v-model=\"state.recipientForm.Addr\" @change=\"onChange('recipient')\" />\n            </div>\n            <hr style=\"border-color: #eae2d8\" />\n            <div data-space-bottom=\"0.5rem\">\n              <h3>寄出時間/自取時間</h3>\n              <p>‧ 請謹慎選擇日期，若要更改需加收150元人工費</p>\n              <p>‧ 出貨後2天內會到貨，時間會依照物流人員當天狀況而決定</p>\n              <p>‧ 重大國定假日/年節/中秋或天災 (颱風/地震）有可能延遲到貨 (4天內到達)</p>\n              <p>‧ 自取請在備註填寫自取時間</p>\n            </div>\n            <div data-space-bottom=\"0.5rem\">\n              <h3>選擇日期</h3>\n              <Calendar id=\"icon\" v-model=\"date\" :showIcon=\"true\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <hr style=\"border-color: #eae2d8\" />\n      <div class=\"row horizontal center\" data-space-top=\"2rem\">\n        <button class=\"button_confirm\" data-width=\"60%\" @click=\"submitOrder\">提交訂單</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport guideLine from '@/components/guideLine.vue'\nimport { reactive, ref, inject, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { memberData, submitGoodsCart, createDiscount } from '@/service/api'\nimport { callApi } from '@/utils/callApi'\nimport { useToast } from 'primevue/usetoast'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: 'ShoppingData',\n  components: {\n    guideLine\n  },\n  setup() {\n    const reload = inject('reload')\n    const router = useRouter()\n    const toast = useToast()\n    const store = useStore()\n    const purchaserChecked = ref(false)\n    const recipientChecked = ref(false)\n    const date = ref()\n    const state = reactive({\n      memberForm: {\n        Name: '',\n        Phone: '',\n        Email: '',\n        Address: ''\n      },\n      recipientForm: {\n        Discounts: [],\n        Recipient: '',\n        Phone: '',\n        Addr: '',\n        OrderRemark: '',\n        Email: '',\n        PaymentMethod: store.getters['cartModules/getCartInfo'].payment,\n        DeliveryMethod: store.getters['cartModules/getCartInfo'].delivery\n      },\n      discountForm: {\n        MemberID: store.getters['memberModules/getID'],\n        Amount: 50\n      },\n      orderTotal: store.getters['cartModules/getTotal']\n    })\n    const guideData = reactive([\n      {\n        label: '購物車',\n        to: '/cart'\n      }\n    ])\n    const steps = reactive([\n      {\n        label: '訂單資訊',\n        to: '/cart'\n      },\n      {\n        label: '填寫資料',\n        to: '/fillInfo'\n      },\n      {\n        label: '資料確認',\n        to: '/finish'\n      }\n    ])\n    //若有暫存資料先取回來\n    const reloadForm = onMounted(() => {\n      const recForm = JSON.parse(localStorage.getItem('recform'))\n      const purForm = JSON.parse(localStorage.getItem('purform'))\n      if (purForm !== null) {\n        state.memberForm = purForm\n        if (recForm !== null) {\n          state.recipientForm = recForm\n        }\n      }\n    })\n    //回到上一頁\n    const handlePrePage = () => {\n      removeChange()\n      router.push({ name: 'Cart' })\n    }\n    //確定送出訂單資料\n    const submitOrder = () => {\n      toast.add({ severity: 'success', summary: '確定要送出訂單？', group: 'cartCheckout' })\n    }\n    const onRejectCheckout = () => {\n      toast.removeGroup('cartCheckout')\n    }\n    const onConfirmCheckout = async () => {\n      state.recipientForm.Discounts.push(JSON.parse(localStorage.getItem('cartInfo')).discount)\n      const data = state.recipientForm\n      callApi(submitGoodsCart, data, () => {\n        if (state.orderTotal >= 2000) {\n          callApi(createDiscount, state.discountForm, () => {})\n        }\n        store.commit('cartModules/SET_CARTINFO', state.recipientForm)\n        router.push({ name: 'Finish' })\n        toast.removeGroup('cartCheckout')\n        removeChange()\n        reload()\n      }).catch(() => {\n        toast.removeGroup('cartCheckout')\n        toast.add({ severity: 'error', summary: '請確實填寫資料！', group: 'errorBox' })\n      })\n    }\n    //購買人資料與會員資料相同\n    const purChecked = async () => {\n      if (purchaserChecked.value === true) {\n        const data = ''\n        await callApi(memberData, data, (res) => {\n          state.memberForm.Address = res.data.Data.Address\n          state.memberForm.Name = res.data.Data.Name\n          state.memberForm.Email = res.data.Data.Email\n          state.memberForm.Phone = res.data.Data.Phone\n          onChange('purchase')\n        })\n      }\n    }\n    //收件人資料與購買者相同\n    const recChecked = () => {\n      if (recipientChecked.value === true) {\n        state.recipientForm.Addr = state.memberForm.Address\n        state.recipientForm.Recipient = state.memberForm.Name\n        state.recipientForm.Phone = state.memberForm.Phone\n        state.recipientForm.Email = state.memberForm.Email\n        onChange('recipient')\n      }\n    }\n    //自動緩存資料\n    const onChange = (method) => {\n      const caseObj = {\n        purchase: () => {\n          setTimeout(() => {\n            localStorage.setItem('purform', JSON.stringify(state.memberForm))\n          }, 2000)\n        },\n        recipient: () => {\n          setTimeout(() => {\n            localStorage.setItem('recform', JSON.stringify(state.recipientForm))\n          }, 2000)\n        }\n      }\n      caseObj[method]()\n    }\n    //回到上一頁或是結帳完成清除暫存資料\n    const removeChange = () => {\n      localStorage.removeItem('purform')\n      localStorage.removeItem('recform')\n    }\n    return {\n      guideData,\n      state,\n      steps,\n      purchaserChecked,\n      recipientChecked,\n      date,\n      reloadForm,\n      handlePrePage,\n      submitOrder,\n      onRejectCheckout,\n      onConfirmCheckout,\n      recChecked,\n      purChecked,\n      onChange\n    }\n  }\n}\n</script>\n","import { render } from \"./fillInfo.vue?vue&type=template&id=c1e7e968\"\nimport script from \"./fillInfo.vue?vue&type=script&lang=js\"\nexport * from \"./fillInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/risu_ann/Documents/web/dessert_work/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}