{"version":3,"sources":["webpack:///./src/components/user/member/discount.vue","webpack:///./src/components/user/member/discount.vue?4160"],"names":["class","_createElementVNode","_createElementBlock","_toDisplayString","$setup","userForm","level","benefits","Consumption","style","nextLevelCash","nextLevel","_hoisted_3","discount","_hoisted_4","_Fragment","_renderList","DiscountTicket","item","i","key","_hoisted_6","Amount","_hoisted_8","_hoisted_9","_hoisted_10","name","setup","state","reactive","progress","JSON","parse","localStorage","getItem","getBenefitsData","onMounted","data","callApi","benefitsList","res","Data","length","__exports__","render"],"mappings":"kJACOA,MAAM,sB,GACJA,MAAM,iB,EAQXC,eAGM,OAHDD,MAAM,gBAAc,CACvBC,eAAW,OACXA,eAAY,UAAR,SAFN,G,aAKKD,MAAM,qC,EAEPC,eAEM,OAFDD,MAAM,0BAAwB,CACjCC,eAAa,UADf,G,GAGKD,MAAM,2B,EAETC,eAAuB,SAApB,oBAAgB,G,EACnBA,eAAkB,SAAf,eAAW,G,EACdA,eAAmB,SAAhB,gBAAY,G,gDAvBvBC,eA2BM,MA3BN,EA2BM,CA1BJD,eAOM,MAPN,EAOM,CANJA,eAA4C,UAAxC,YAASE,eAAGC,QAAMC,SAASC,OAAK,GACpCL,eAA2C,SAAxC,OAAIE,eAAGC,QAAMG,SAASC,aAAW,GACpCP,eAEM,YADJA,eAAiC,QAA1BQ,MAAK,eAAEL,eAAd,UAEFH,eAAyF,YAAnF,UAAOE,eAAGC,QAAMC,SAASK,eAAgB,QAAKP,eAAGC,QAAMC,SAASM,WAAS,KAEjFC,EAIuB,GAAdR,QAAMS,UAAQ,iBAAvBX,eAA+C,IAAAY,EAAjB,kBAA9B,sBACAb,eAYM,MAZN,EAYM,qBAXJC,eAUMa,OAAA,KAAAC,eAV2CZ,QAAMG,SAASU,eAAc,CAAzCC,EAAMC,K,iBAA3CjB,eAUM,OAVDF,MAAM,kBAAsEoB,IAAKD,GAAtF,CACEE,EAGApB,eAKM,MALN,EAKM,CAJJA,eAA2B,UAAvB,IAACE,eAAGe,EAAKI,QAAM,GACnBC,EACAC,EACAC,QARJ,U,4BAoBS,GACbC,KAAM,WACNC,QACE,MAAMC,EAAQC,eAAS,CACrBC,SAAU,EACVvB,SAAU,GACVM,SAAU,EACVR,SAAU,CACRC,MAAOyB,KAAKC,MAAMC,aAAaC,QAAQ,mBAAmB5B,MAC1DK,UAAWoB,KAAKC,MAAMC,aAAaC,QAAQ,mBAAmBvB,UAC9DD,cAAeqB,KAAKC,MAAMC,aAAaC,QAAQ,mBAAmBxB,iBAIhEyB,EAAkBC,eAAU,KAChC,MAAMC,EAAO,GACbC,eAAQC,OAAcF,EAAOG,IAC3BZ,EAAMrB,SAAW,IAAKiC,EAAIH,KAAKI,MAC/Bb,EAAME,SAAW,IAAQF,EAAMrB,SAASC,YACxCoB,EAAMf,SAAWe,EAAMrB,SAASU,eAAeyB,WAG7CZ,EAAW,IACP,sBAAqBF,EAAME,YAErC,MAAO,CACLF,QACAO,kBACAL,c,qBC3DN,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0f0832.9ed7ad75.js","sourcesContent":["<template>\n  <div class=\"discount container\">\n    <div class=\"discount-data\">\n      <h2>會員累積消費 - {{ state.userForm.level }}</h2>\n      <p>NT ${{ state.benefits.Consumption }}</p>\n      <div>\n        <span :style=\"progress()\"></span>\n      </div>\n      <span>再消費NT ${{ state.userForm.nextLevelCash }}即可升等為{{ state.userForm.nextLevel }}</span>\n    </div>\n    <div class=\"member-title\">\n      <div></div>\n      <h2>優惠券</h2>\n    </div>\n    <p v-if=\"state.discount == 0\">目前還沒有可以使用的優惠券</p>\n    <div class=\"row horizontal space_between wrap\">\n      <div class=\"discount-coupon\" v-for=\"(item, i) in state.benefits.DiscountTicket\" :key=\"i\">\n        <div class=\"discount-coupon_header\">\n          <span></span>\n        </div>\n        <div class=\"discount-coupon_content\">\n          <h2>${{ item.Amount }}</h2>\n          <p>單筆消費滿1000元即可使用一張</p>\n          <p>單筆消費限用一張折價券</p>\n          <p>消費滿2000即贈送一張</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, computed } from 'vue'\nimport { benefitsList } from '@/service/api'\nimport { callApi } from '@/utils/callApi'\n\nexport default {\n  name: 'Discount',\n  setup() {\n    const state = reactive({\n      progress: 0,\n      benefits: {},\n      discount: 0,\n      userForm: {\n        level: JSON.parse(localStorage.getItem('memberBenefits')).level,\n        nextLevel: JSON.parse(localStorage.getItem('memberBenefits')).nextLevel,\n        nextLevelCash: JSON.parse(localStorage.getItem('memberBenefits')).nextLevelCash\n      }\n    })\n    //得到資料\n    const getBenefitsData = onMounted(() => {\n      const data = ''\n      callApi(benefitsList, data, (res) => {\n        state.benefits = { ...res.data.Data }\n        state.progress = 10000 / state.benefits.Consumption\n        state.discount = state.benefits.DiscountTicket.length\n      })\n    })\n    const progress = () => {\n      return `width: calc(100% / ${state.progress})`\n    }\n    return {\n      state,\n      getBenefitsData,\n      progress\n    }\n  }\n}\n</script>\n","import { render } from \"./discount.vue?vue&type=template&id=39780ae4\"\nimport script from \"./discount.vue?vue&type=script&lang=js\"\nexport * from \"./discount.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/risu_ann/Documents/web/dessert_work/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}