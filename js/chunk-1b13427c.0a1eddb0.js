(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b13427c"],{"1be4":function(e,t,c){var s=c("d066");e.exports=s("document","documentElement")},"37e8":function(e,t,c){var s=c("83ab"),o=c("aed9"),a=c("9bf2"),l=c("825a"),n=c("fc6a"),i=c("df75");t.f=s&&!o?Object.defineProperties:function(e,t){l(e);var c,s=n(t),o=i(t),r=o.length,d=0;while(r>d)a.f(e,c=o[d++],s[c]);return e}},"3f0d":function(e,t,c){"use strict";c.r(t);var s=c("7a23");const o=Object(s["j"])("div",{class:"goods-list-title"},[Object(s["j"])("div"),Object(s["j"])("h2",null,"熱銷排行")],-1),a={class:"goods-detail"};function l(e,t,c,l,n,i){const r=Object(s["L"])("card");return Object(s["F"])(),Object(s["i"])("div",null,[o,Object(s["j"])("div",a,[(Object(s["F"])(!0),Object(s["i"])(s["a"],null,Object(s["J"])(l.state.goodsList,(e,t)=>(Object(s["F"])(),Object(s["g"])(r,{key:t,list:e},null,8,["list"]))),128))])])}var n=c("408b"),i=c("46ef"),r=c("eac7"),d={name:"Hot",components:{card:r["a"]},setup(){const e=Object(s["H"])({goodsList:[],goodsListSearch:{ID:0,Page:0,PageLimit:12,GoodsName:"",GoodsType:0}}),t=Object(s["D"])(()=>{const t=e.goodsListSearch;Object(i["a"])(n["j"],t,t=>{e.goodsList=[...t.data.Data]})});return{state:e,getAllGoodsList:t}}},u=c("6b0d"),b=c.n(u);const j=b()(d,[["render",l]]);t["default"]=j},"44d2":function(e,t,c){var s=c("b622"),o=c("7c73"),a=c("9bf2"),l=s("unscopables"),n=Array.prototype;void 0==n[l]&&a.f(n,l,{configurable:!0,value:o(null)}),e.exports=function(e){n[l][e]=!0}},"7c73":function(e,t,c){var s,o=c("825a"),a=c("37e8"),l=c("7839"),n=c("d012"),i=c("1be4"),r=c("cc12"),d=c("f772"),u=">",b="<",j="prototype",p="script",O=d("IE_PROTO"),m=function(){},g=function(e){return b+p+u+e+b+"/"+p+u},h=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},D=function(){var e,t=r("iframe"),c="java"+p+":";return t.style.display="none",i.appendChild(t),t.src=String(c),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},v=function(){try{s=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&s?h(s):D():h(s);var e=l.length;while(e--)delete v[j][l[e]];return v()};n[O]=!0,e.exports=Object.create||function(e,t){var c;return null!==e?(m[j]=o(e),c=new m,m[j]=null,c[O]=e):c=v(),void 0===t?c:a.f(c,t)}},caad:function(e,t,c){"use strict";var s=c("23e7"),o=c("4d64").includes,a=c("44d2");s({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},df75:function(e,t,c){var s=c("ca84"),o=c("7839");e.exports=Object.keys||function(e){return s(e,o)}},eac7:function(e,t,c){"use strict";var s=c("7a23");const o={class:"goods-detail_item"},a=["src"],l={class:"icon"},n=Object(s["j"])("i",{class:"pi pi-search-plus",style:{"font-size":"1.4rem"}},null,-1),i=Object(s["j"])("p",null,"查看商品",-1),r=[n,i],d=Object(s["j"])("i",{class:"pi pi-shopping-bag",style:{"font-size":"1.4rem"}},null,-1),u=Object(s["j"])("p",null,"加入購物車",-1),b=[d,u],j={class:"dialog_main"},p={class:"dialog_above"},O={class:"goods_galleria"},m=["src","alt"],g=["src","alt"],h={class:"goods-content"},D=Object(s["j"])("hr",null,null,-1),v={class:"specs_exception"},f={class:"row horizontal bottom_left","data-space-bottom":"1.5rem"},k=Object(s["j"])("h3",{"data-space-right":"1rem"},"選擇規格",-1),S={key:0,class:"specs"},y={for:"checkbox",class:"specs-customize"},I={key:1,class:"field-checkbox"},C=["id","value"],G=["for"],w=["onUpdate:modelValue"],x=Object(s["j"])("h3",null,"購買數量",-1),F={class:"goods-content__count"},L={class:"row horizontal center"};function _(e,t,c,n,i,d){const u=Object(s["L"])("Galleria"),_=Object(s["L"])("InputNumber"),N=Object(s["L"])("Dialog");return Object(s["F"])(),Object(s["i"])("div",null,[Object(s["j"])("div",o,[Object(s["j"])("img",{src:c.list.ImageUrls[0].Url,alt:""},null,8,a),Object(s["j"])("div",{class:"media-icon",onClick:t[0]||(t[0]=e=>n.checkGoodsDetail(c.list.ID))}),Object(s["j"])("div",l,[Object(s["j"])("div",{class:"row vertical center",onClick:t[1]||(t[1]=e=>n.checkGoodsDetail(c.list.ID))},r),Object(s["j"])("div",{class:"row vertical center",onClick:t[2]||(t[2]=e=>n.addCart(c.list))},b)]),Object(s["j"])("h2",{onClick:t[3]||(t[3]=e=>n.checkGoodsDetail(c.list.ID))},Object(s["P"])(c.list.Name),1),Object(s["j"])("p",null,"NT "+Object(s["P"])(c.list.UnitPrice),1)]),Object(s["n"])(N,{class:"goods_dialog",visible:n.state.visibleDialog,"onUpdate:visible":t[11]||(t[11]=e=>n.state.visibleDialog=e),breakpoints:{"960px":"60vw"},style:{width:"800px",height:"490px"},modal:!0},{default:Object(s["W"])(()=>[Object(s["j"])("div",j,[Object(s["j"])("div",p,[Object(s["j"])("div",O,[Object(s["n"])(u,{value:n.state.imgList,numVisible:n.state.imgList.length},{item:Object(s["W"])(e=>[Object(s["j"])("img",{src:e.item.url,alt:e.item.Ident},null,8,m)]),thumbnail:Object(s["W"])(e=>[Object(s["j"])("img",{src:e.item.url,alt:e.item.Ident},null,8,g)]),_:1},8,["value","numVisible"])]),Object(s["j"])("div",h,[Object(s["j"])("h2",null,Object(s["P"])(n.state.goodsData.Name),1),D,Object(s["j"])("p",null,"建議售價 NT"+Object(s["P"])(n.state.goodsData.UnitPrice),1),Object(s["j"])("div",v,[Object(s["j"])("div",f,[k,Object(s["j"])("span",null,"( 最多可選"+Object(s["P"])(n.state.specsCount)+"種 )",1)]),1==n.state.newGoodsData.length?(Object(s["F"])(),Object(s["i"])("div",S,[Object(s["X"])(Object(s["j"])("input",{id:"checkbox",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>n.state.check=e)},null,512),[[s["S"],n.state.check]]),Object(s["j"])("label",y,Object(s["P"])(n.state.newGoodsData[0].Specs),1)])):(Object(s["F"])(),Object(s["i"])("div",I,[(Object(s["F"])(!0),Object(s["i"])(s["a"],null,Object(s["J"])(n.state.newGoodsData,(e,c)=>(Object(s["F"])(),Object(s["i"])("div",{key:c,class:"field-checkbox-item"},[Object(s["X"])(Object(s["j"])("input",{id:e.ID,type:"checkbox",name:"specs",value:e.ID,"onUpdate:modelValue":t[5]||(t[5]=e=>n.state.allSpecsCheckedID=e),onClick:t[6]||(t[6]=e=>n.handleSpecsMax(e))},null,8,C),[[s["S"],n.state.allSpecsCheckedID]]),Object(s["j"])("label",{for:e.ID},Object(s["P"])(e.Specs)+"：",9,G),Object(s["X"])(Object(s["j"])("input",{class:"specsCount",type:"number","onUpdate:modelValue":t=>e.Num=t,max:"99",min:"1",placeholder:"數量"},null,8,w),[[s["T"],e.Num]])]))),128))]))]),Object(s["j"])("div",null,[x,Object(s["j"])("div",F,[Object(s["j"])("i",{class:"pi pi-minus",onClick:t[7]||(t[7]=e=>n.countChange("minus"))}),Object(s["n"])(_,{class:"p-inputtext-sm",modelValue:n.state.count,"onUpdate:modelValue":t[8]||(t[8]=e=>n.state.count=e)},null,8,["modelValue"]),Object(s["j"])("i",{class:"pi pi-plus",style:{color:"red"},onClick:t[9]||(t[9]=e=>n.countChange("plus"))})])])])]),Object(s["j"])("div",L,[Object(s["j"])("button",{class:"button_normal","data-width":"95%",onClick:t[10]||(t[10]=e=>n.addCartDialog())},"加入購物車")])])]),_:1},8,["visible"])])}c("caad");var N=c("408b"),P=c("46ef"),U=c("18cb"),T=c("6c02"),V=c("5502"),A={name:"Card",props:{list:Object},setup(e){const t=Object(U["b"])(),c=Object(V["b"])(),o=Object(T["c"])(),a=Object(s["r"])("reload"),l=Object(s["H"])({visibleDialog:!1,newGoodsData:[],imgList:[],goodsData:[],allSpecsCheckedID:[],currentSpecsChecked:[],specsCount:null,count:1,cartForm:{GoodsID:null,Specs:[]},check:!1}),n=e.list,i=async e=>{d(e.ID),l.visibleDialog=!0},r=e=>{c.commit("goodsModules/SET_GOODSDETAIL",e);const t=[7,8,9,10,11,12],s={name:t.includes(e)?"SpecsDetail":"GoodsDetail"};o.push(s)},d=e=>{c.commit("goodsModules/SET_GOODSDETAIL",e);const t={ID:c.state.goodsModules.currentGoodsID};l.imgList=[],Object(P["a"])(N["j"],t,e=>{l.goodsData=e.data.Data,l.cartForm.GoodsID=l.goodsData.ID,l.specsCount=l.goodsData.GoodsSpecs[0].Specs,l.newGoodsData=l.goodsData.GoodsSpecs.slice(1),u()})},u=()=>{for(let e in l.goodsData.ImageUrls){const t=l.goodsData.ImageUrls[e].Url;l.imgList.push({url:"https://nocodenolife.net/ann//imgs/"+t})}},b=e=>{"plus"===e&&l.count<99?l.count+=1:"minus"===e&&l.count>1&&(l.count-=1)},j=e=>{!0===e.target.checked?l.currentSpecsChecked.length<l.goodsData.GoodsSpecs[0].Specs?l.currentSpecsChecked.push(e.target.value):(e.target.checked=!1,t.add({severity:"error",summary:"已超過數量！",group:"errorBox"})):!1===e.target.checked&&(l.currentSpecsChecked=l.currentSpecsChecked.filter(t=>t!==e.target.value))},p=()=>{for(let e in l.goodsData.GoodsSpecs)for(let t in l.allSpecsCheckedID)l.goodsData.GoodsSpecs[e].ID===l.allSpecsCheckedID[t]&&l.cartForm.Specs.push({SpecID:l.goodsData.GoodsSpecs[e].ID,Num:l.goodsData.GoodsSpecs[e].Num})},O=()=>{if(1==l.check){l.cartForm.Specs.push({SpecID:l.newGoodsData[0].ID,Num:l.count});const e=l.cartForm;Object(P["a"])(N["a"],e,()=>{t.add({severity:"success",summary:"已加入購物車！",group:"successBox"})})}else t.add({severity:"error",summary:"請選擇規格",group:"errorBox"})},m=()=>{p();const e=l.cartForm.Specs.reduce((e,t)=>e+t.Num,0);if(e==l.specsCount){l.cartForm.Specs.unshift({SpecID:l.goodsData.GoodsSpecs[0].ID,Num:l.count});const e=l.cartForm;Object(P["a"])(N["a"],e,()=>{t.add({severity:"success",summary:"已加入購物車！",group:"successBox"}),l.cartForm.Specs=[],l.visibleDialog=!1})}else t.add({severity:"error",summary:"規格有誤，請再次確認！",group:"errorBox"}),l.cartForm.Specs=[]},g=async()=>{const e=c.getters["memberModules/getLogin"];1==e?1==l.newGoodsData.length?O():m():t.add({severity:"error",summary:"請先登入會員！",group:"errorBox"})};return{state:l,reload:a,goodsList:n,checkGoodsDetail:r,countChange:b,handleSpecsMax:j,addCartDialog:g,getGoodDetail:d,addCart:i}}},B=c("6b0d"),E=c.n(B);const M=E()(A,[["render",_]]);t["a"]=M}}]);
//# sourceMappingURL=chunk-1b13427c.0a1eddb0.js.map