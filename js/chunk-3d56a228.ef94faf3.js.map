{"version":3,"sources":["webpack:///./src/assets/goods/meringueTart0.jpg","webpack:///./src/assets/goods/strawberryChiffon01.jpg","webpack:///./src/assets/goods/strawberryTart.jpg","webpack:///./src/components/guideLine.vue","webpack:///./src/components/guideLine.vue?397e","webpack:///./src/assets/goods/poundCake01.jpg","webpack:///./src/components/goods/specsDetail.vue","webpack:///./src/components/goods/specsDetail.vue?c995"],"names":["module","exports","class","data-space-bottom","_createElementBlock","_createVNode","_component_Breadcrumb","home","$setup","model","name","props","data","Array","setup","pageData","reactive","icon","to","__exports__","render","data-width","_createElementVNode","data-space-right","data-space-left","_hoisted_19","_hoisted_20","_hoisted_23","_hoisted_24","style","_component_guideLine","_component_Galleria","value","imgList","numVisible","length","item","slotProps","src","url","alt","Ident","thumbnail","_toDisplayString","goodsData","Name","_hoisted_9","UnitPrice","_hoisted_12","specsCount","_Fragment","_renderList","newGoodsData","i","key","id","ID","type","allSpecsCheckedID","$event","onClick","for","Specs","_hoisted_15","Num","max","min","placeholder","_hoisted_17","_component_InputNumber","count","like","_hoisted_25","_hoisted_30","_ctx","push","_hoisted_31","_hoisted_32","Description","_hoisted_35","_component_Carousel","responsiveOptions","price","components","guideLine","toast","useToast","router","useRouter","store","useStore","state","isLogin","getters","currentSpecsChecked","checkedStatus","cartForm","GoodsID","purchase","ref","breakpoint","numScroll","goodsList","require","guideData","label","getGoodDetail","onMounted","localStorage","getItem","callApi","getGoodsList","res","Data","GoodsSpecs","slice","getImg","likeStatus","ImageUrls","Url","process","countChange","addCart","async","checkSpecs","totalNum","reduce","pre","cur","unshift","SpecID","addGoodsCart","add","severity","summary","group","method","handleAddLike","addLikeList","allLikeList","aboutGoodsRouter","commit","handleSpecsMax","event","target","checked","filter","j"],"mappings":"mGAAAA,EAAOC,QAAU,IAA0B,kC,uBCA3CD,EAAOC,QAAU,IAA0B,wC,uBCA3CD,EAAOC,QAAU,IAA0B,mC,6DCCpCC,MAAM,QAAQC,oBAAkB,U,qFAArCC,eAEM,MAFN,EAEM,CADJC,eAA6CC,EAAA,CAAhCC,KAAMC,OAAOC,MAAOD,YAAjC,2BAKW,OACbE,KAAM,YACNC,MAAO,CACLC,KAAMC,OAERC,MAAMH,GACJ,MAAMI,EAAWJ,EAAMC,KACjBL,EAAOS,eAAS,CACpBC,KAAM,aACNC,GAAI,aAEN,MAAO,CACLH,WACAR,U,qBCfN,MAAMY,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,U,uBCPfpB,EAAOC,QAAU,IAA0B,gC,kECCpCC,MAAM,sB,GAEJA,MAAM,U,GACJA,MAAM,gB,GACJA,MAAM,sB,GACJmB,aAAW,MAAMnB,MAAM,Y,mCAUvBA,MAAM,wB,EAEToB,eAAM,mB,GAEDpB,MAAM,mB,GACJA,MAAM,6BAA6BC,oBAAkB,U,EACxDmB,eAAqC,MAAjCC,mBAAiB,QAAO,QAAI,G,GAG7BrB,MAAM,kB,uDASXoB,eAAa,UAAT,QAAI,G,GACHpB,MAAM,8BAA8BsB,kBAAgB,U,EAMvDF,eAAkD,KAA/CpB,MAAM,cAAcsB,kBAAgB,QAAvC,S,EACAF,eAA6C,QAAvCE,kBAAgB,UAAS,WAAO,G,GADtCC,EACAC,G,SAEGxB,MAAM,e,EACToB,eAAuD,KAApDpB,MAAM,mBAAmBsB,kBAAgB,QAA5C,S,EACAF,eAA6C,QAAvCE,kBAAgB,UAAS,WAAO,G,GADtCG,EACAC,G,GAKH1B,MAAM,oB,GAINA,MAAM,c,GAKRA,MAAM,c,GACJA,MAAM,2B,EACToB,eAGM,OAHDD,aAAW,MAAMnB,MAAM,uBAA5B,CACEoB,eAAiC,MAA7BD,aAAW,QAAO,UACtBC,eAA+B,OAA1BpB,MAAM,kBAFb,G,EAMFoB,eAAwB,OAAnBpB,MAAM,QAAM,S,EACjBoB,eAAe,UAAX,UAAM,G,GACPO,MAAA,4B,GAEA3B,MAAM,e,EACToB,eAMM,YALJA,eAGM,OAHDD,aAAW,OAAOnB,MAAM,uBAA7B,CACEoB,eAA+B,MAA3BD,aAAW,QAAO,QACtBC,eAA+B,OAA1BpB,MAAM,kBAEboB,eAAwB,OAAnBpB,MAAM,WALb,G,GAOKA,MAAM,Y,iBAIEA,MAAM,sB,wLAnFzBE,eAkGM,MAlGN,EAkGM,CAjGJC,eAA+ByB,EAAA,CAAnBlB,KAAMJ,aAAS,iBAC3Bc,eA+FM,MA/FN,EA+FM,CA9FJA,eAuDM,MAvDN,EAuDM,CAtDJA,eA6CM,MA7CN,EA6CM,CA5CJA,eASM,MATN,EASM,CARJjB,eAOW0B,EAAA,CAPAC,MAAOxB,QAAMyB,QAAUC,WAAY1B,QAAMyB,QAAQE,QAA5D,CACaC,KAAI,eAAEC,GAAS,CACxBf,eAA6D,OAAvDgB,IAAKD,EAAUD,KAAKG,IAAMC,IAAKH,EAAUD,KAAKK,OAApD,YAESC,UAAS,eAAEL,GAAS,CAC7Bf,eAA6D,OAAvDgB,IAAKD,EAAUD,KAAKG,IAAMC,IAAKH,EAAUD,KAAKK,OAApD,Y,KALJ,4BASFnB,eAiCM,MAjCN,EAiCM,CAhCJA,eAAmC,UAAAqB,eAA5BnC,QAAMoC,UAAUC,MAAI,GAC3BC,EACAxB,eAA6C,SAA1C,UAAOqB,eAAGnC,QAAMoC,UAAUG,WAAS,GACtCzB,eAYM,MAZN,EAYM,CAXJA,eAGM,MAHN,EAGM,CAFJ0B,EACA1B,eAA4C,YAAtC,SAAMqB,eAAGnC,QAAMyC,YAAa,MAAG,KAEvC3B,eAMM,MANN,EAMM,qBALJlB,eAIM8C,OAAA,KAAAC,eAJmB3C,QAAM4C,aAAY,CAA9BhB,EAAMiB,K,iBAAnBjD,eAIM,OAJwCkD,IAAKD,EAAGnD,MAAM,uBAA5D,gBACEoB,eAAuI,SAA/HiC,GAAInB,EAAKoB,GAAIC,KAAK,WAAW/C,KAAK,QAASsB,MAAOI,EAAKoB,G,qCAAahD,QAAMkD,kBAAiBC,GAAGC,QAAK,eAAEpD,iBAAemD,KAA5H,mBAA4EnD,QAAMkD,qBAClFpC,eAA+C,SAAvCuC,IAAKzB,EAAKoB,IAAlB,eAAyBpB,EAAK0B,OAAQ,IAAC,EAAAC,GAAvC,eACAzC,eAA+F,SAAxFpB,MAAM,aAAauD,KAAK,S,yBAAkBrB,EAAK4B,IAAGL,EAAEM,IAAI,KAAKC,IAAI,IAAIC,YAAY,MAAxF,mBAAiD/B,EAAK4B,WAHxD,UAOJ1C,eAeM,YAdJ8C,EACA9C,eAIM,MAJN,EAIM,CAHJA,eAAyD,KAAtDpB,MAAM,cAAe0D,QAAK,eAAEpD,cAAW,YAC1CH,eAA4DgE,EAAA,CAA/CnE,MAAM,iB,WAA0BM,QAAM8D,M,qCAAN9D,QAAM8D,MAAKX,IAAxD,uBACArC,eAA0E,KAAvEpB,MAAM,aAAa2B,MAAA,cAAoB+B,QAAK,eAAEpD,cAAW,cAE5B,IAAVA,QAAM+D,MAAI,iBAAlCnE,eAGM,O,MAHDF,MAAM,OAAoC0D,QAAK,oBAAEpD,yCAAtD,sBAIAJ,eAGM,MAHN,EAGMoE,UAIZlD,eAGM,MAHN,EAGM,CAFJA,eAAqF,UAA7EpB,MAAM,gBAAgBmB,aAAW,MAAOuC,QAAK,eAAEpD,UAAO,SAAS,SACvEc,eAA0F,UAAlFpB,MAAM,iBAAiBmB,aAAW,MAAOuC,QAAK,eAAEpD,UAAO,cAAc,UAE/Ec,eAGM,MAHN,EAGM,CAFJA,eAAqF,UAA7EpB,MAAM,gBAAgBmB,aAAW,MAAOuC,QAAK,eAAEpD,UAAO,SAAS,SACvEc,eAA0F,UAAlFpB,MAAM,iBAAiBmB,aAAW,MAAOuC,QAAK,eAAEpD,UAAO,cAAc,YAGjFc,eAWM,MAXN,EAWM,CAVJA,eAMM,MANN,EAMM,CALJmD,EAIAnD,eAA6E,MAAzED,aAAW,MAAOuC,QAAK,iBAAEc,UAAQC,KAAI,CAAAjE,oBAAwB,aAEnEkE,EACAC,EACAvD,eAAsE,IAAtE,EAAsEqB,eAAlCnC,QAAMoC,UAAUkC,aAAW,KAEjExD,eAyBM,MAzBN,EAyBM,CAxBJyD,EAOAzD,eAgBM,MAhBN,EAgBM,CAfJjB,eAcW2E,EAAA,CAdAhD,MAAOxB,YAAY0B,WAAY,EAAI+C,kBAAmBzE,qBAAjE,CACa4B,KAAI,eAAEC,GAAS,CACxBf,eAUM,OAVDpB,MAAM,aAAc0D,QAAK,GAAEpD,mBAAiB6B,EAAUzB,KAAK2C,KAAhE,CACEjC,eAQM,MARN,EAQM,CAPJA,eAEM,YADJA,eAAwC,OAAlCgB,IAAKD,EAAUzB,KAAK0B,IAAKE,IAAI,IAAnC,YAEFlB,eAGM,YAFJA,eAAkC,UAAAqB,eAA3BN,EAAUzB,KAAKF,MAAI,GAC1BY,eAAsC,UAAlC,MAAGqB,eAAGN,EAAUzB,KAAKsE,OAAK,QAPpC,O,KAFJ,yC,4EA6BK,GACbxE,KAAM,cACNyE,WAAY,CACVC,kBAEFtE,QACE,MAAMuE,EAAQC,iBACRC,EAASC,iBACTC,EAAQC,iBACRC,EAAQ3E,eAAS,CACrB4E,QAASH,EAAMI,QAAQ,0BACvBjD,UAAW,GACXQ,aAAc,GACdnB,QAAS,GACTyB,kBAAmB,GACnBoC,oBAAqB,GACrBC,cAAe,GACfzB,MAAO,EACPrB,WAAY,KACZ+C,SAAU,CACRC,QAAS,KACTnC,MAAO,IAETS,MAAM,EACN2B,UAAU,IAENjB,EAAoBkB,eAAI,CAC5B,CACEC,WAAY,QACZlE,WAAY,EACZmE,UAAW,GAEb,CACED,WAAY,QACZlE,WAAY,EACZmE,UAAW,GAEb,CACED,WAAY,QACZlE,WAAY,EACZmE,UAAW,KAGTC,EAAYtF,eAAS,CACzB,CACEuC,GAAI,GACJ7C,KAAM,SACNwE,MAAO,GACP5C,IAAKiE,EAAQ,SAEf,CACEhD,GAAI,GACJ7C,KAAM,SACNwE,MAAO,IACP5C,IAAKiE,EAAQ,SAEf,CACEhD,GAAI,GACJ7C,KAAM,UACNwE,MAAO,GACP5C,IAAKiE,EAAQ,SAEf,CACEhD,GAAI,EACJ7C,KAAM,WACNwE,MAAO,IACP5C,IAAKiE,EAAQ,WAGXC,EAAYxF,eAAS,CACzB,CACEyF,MAAO,KACPvF,GAAI,kBAIFwF,EAAgBC,eAAU,KAC9B,MAAM/F,EAAO,CAAE4C,GAA4C,EAAxCoD,aAAaC,QAAQ,kBACxCC,eAAQC,OAAcnG,EAAOoG,IAC3BrB,EAAM/C,UAAYoE,EAAIpG,KAAKqG,KAC3BtB,EAAMK,SAASC,QAAUN,EAAM/C,UAAUY,GACzCmC,EAAM1C,WAAa0C,EAAM/C,UAAUsE,WAAW,GAAGpD,MACjD0C,EAAU,GAAGC,MAAQd,EAAM/C,UAAUC,KACrC8C,EAAMvC,aAAeuC,EAAM/C,UAAUsE,WAAWC,MAAM,GACtDC,IACAC,QAIED,EAAS,KACb,IAAK,IAAI/D,KAAKsC,EAAM/C,UAAU0E,UAAW,CACvC,MAAM/E,EAAMoD,EAAM/C,UAAU0E,UAAUjE,GAAGkE,IACzC5B,EAAM1D,QAAQ0C,KAAK,CAAEpC,IAAKiF,sCAA0CjF,MAIlEkF,EAAe/G,IACN,SAATA,GAAmBiF,EAAMrB,MAAQ,GAAIqB,EAAMrB,OAAS,EACtC,UAAT5D,GAAoBiF,EAAMrB,MAAQ,IAAGqB,EAAMrB,OAAS,IAGzDoD,EAAUC,UACd,IAAsB,IAAlBhC,EAAMC,QAAkB,CAC1BgC,IACA,MAAMC,EAAWlC,EAAMK,SAASlC,MAAMgE,OAAO,CAACC,EAAKC,IAC1CD,EAAMC,EAAIhE,IAChB,GACH,GAAI6D,GAAYlC,EAAM1C,WAAY,CAChC0C,EAAMK,SAASlC,MAAMmE,QAAQ,CAC3BC,OAAQvC,EAAM/C,UAAUsE,WAAW,GAAG1D,GACtCQ,IAAK2B,EAAMrB,QAEb,MAAM1D,EAAO+E,EAAMK,SACnBc,eAAQqB,OAAcvH,EAAM,KAC1B,MAAM6C,EAAO,CACX2E,IAAK,KACH/C,EAAM+C,IAAI,CAAEC,SAAU,UAAWC,QAAS,UAAWC,MAAO,eAC5D5C,EAAMK,SAASlC,MAAQ,IAEzBoC,SAAU,KACRX,EAAOZ,KAAK,CAAEjE,KAAM,SACpBiF,EAAMK,SAASlC,MAAQ,KAG3BL,EAAK+E,YAGPnD,EAAM+C,IAAI,CAAEC,SAAU,QAASC,QAAS,cAAeC,MAAO,aAC9D5C,EAAMK,SAASlC,MAAQ,QAGzBuB,EAAM+C,IAAI,CAAEC,SAAU,QAASC,QAAS,UAAWC,MAAO,cAIxDE,EAAgB,KACpB,IAAsB,IAAlB9C,EAAMC,QAAkB,CAC1B,MAAMhF,EAAO,CAAEqF,QAASN,EAAMK,SAASC,SACvCa,eAAQ4B,OAAa9H,EAAM,KACzB+E,EAAMpB,MAAO,SAGfc,EAAM+C,IAAI,CAAEC,SAAU,QAASC,QAAS,UAAWC,MAAO,cAIxDlB,EAAa,KACjB,IAAsB,IAAlB1B,EAAMC,QAAkB,CAC1B,MAAMhF,EAAO,GACbkG,eAAQ6B,OAAa/H,EAAOoG,IAC1B,IAAK,IAAI3D,KAAK2D,EAAIpG,KAAKqG,KACjBD,EAAIpG,KAAKqG,KAAK5D,GAAG4C,UAAYN,EAAMK,SAASC,UAC9CN,EAAMpB,MAAO,OAOjBqE,EAAoBrF,IACxBkC,EAAMoD,OAAO,+BAAgCtF,GAC7CgC,EAAOZ,KAAK,CAAEjE,KAAM,iBAGhBoI,EAAkBC,KACO,IAAzBA,EAAMC,OAAOC,QACXtD,EAAMG,oBAAoB3D,OAASwD,EAAM/C,UAAUsE,WAAW,GAAGpD,MACnE6B,EAAMG,oBAAoBnB,KAAKoE,EAAMC,OAAOhH,QAE5C+G,EAAMC,OAAOC,SAAU,EACvB5D,EAAM+C,IAAI,CAAEC,SAAU,QAASC,QAAS,SAAUC,MAAO,eAEzB,IAAzBQ,EAAMC,OAAOC,UACtBtD,EAAMG,oBAAsBH,EAAMG,oBAAoBoD,OAAQ9G,GACrDA,IAAS2G,EAAMC,OAAOhH,SAK7B4F,EAAa,KACjB,IAAK,IAAIvE,KAAKsC,EAAM/C,UAAUsE,WAC5B,IAAK,IAAIiC,KAAKxD,EAAMjC,kBACdiC,EAAM/C,UAAUsE,WAAW7D,GAAGG,KAAOmC,EAAMjC,kBAAkByF,IAC/DxD,EAAMK,SAASlC,MAAMa,KAAK,CACxBuD,OAAQvC,EAAM/C,UAAUsE,WAAW7D,GAAGG,GACtCQ,IAAK2B,EAAM/C,UAAUsE,WAAW7D,GAAGW,OAM7C,MAAO,CACL2B,QACAV,oBACAyB,gBACAF,YACAF,YACAe,aACAoB,gBACAf,UACAD,cACAmB,mBACAE,oB,qBCnTN,MAAM3H,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-3d56a228.ef94faf3.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/meringueTart0.da08c304.jpg\";","module.exports = __webpack_public_path__ + \"img/strawberryChiffon01.ff14b109.jpg\";","module.exports = __webpack_public_path__ + \"img/strawberryTart.8acf35b5.jpg\";","<template>\n  <div class=\"guide\" data-space-bottom=\"2.5rem\">\n    <Breadcrumb :home=\"home\" :model=\"pageData\" />\n  </div>\n</template>\n<script>\nimport { reactive } from 'vue'\nexport default {\n  name: 'GuideLine',\n  props: {\n    data: Array\n  },\n  setup(props) {\n    const pageData = props.data\n    const home = reactive({\n      icon: 'pi pi-home',\n      to: '/content'\n    })\n    return {\n      pageData,\n      home\n    }\n  }\n}\n</script>\n","import { render } from \"./guideLine.vue?vue&type=template&id=4fad1ac4\"\nimport script from \"./guideLine.vue?vue&type=script&lang=js\"\nexport * from \"./guideLine.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/risu_ann/Documents/web/dessert_work/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/poundCake01.6c920eb2.jpg\";","<template>\n  <div class=\"container products\">\n    <guideLine :data=\"guideData\" />\n    <div class=\"detail\">\n      <div class=\"goods-choose\">\n        <div class=\"goods-choose-above\">\n          <div data-width=\"70%\" class=\"galleria\">\n            <Galleria :value=\"state.imgList\" :numVisible=\"state.imgList.length\">\n              <template #item=\"slotProps\">\n                <img :src=\"slotProps.item.url\" :alt=\"slotProps.item.Ident\" />\n              </template>\n              <template #thumbnail=\"slotProps\">\n                <img :src=\"slotProps.item.url\" :alt=\"slotProps.item.Ident\" />\n              </template>\n            </Galleria>\n          </div>\n          <div class=\"goods-choose-content\">\n            <h2>{{ state.goodsData.Name }}</h2>\n            <hr />\n            <p>建議售價 NT{{ state.goodsData.UnitPrice }}</p>\n            <div class=\"specs_exception\">\n              <div class=\"row horizontal bottom_left\" data-space-bottom=\"1.5rem\">\n                <h3 data-space-right=\"1rem\">選擇規格</h3>\n                <span>( 最多可選{{ state.specsCount }}種 )</span>\n              </div>\n              <div class=\"field-checkbox\">\n                <div v-for=\"(item, i) in state.newGoodsData\" :key=\"i\" class=\"field-checkbox-item\">\n                  <input :id=\"item.ID\" type=\"checkbox\" name=\"specs\" :value=\"item.ID\" v-model=\"state.allSpecsCheckedID\" @click=\"handleSpecsMax($event)\" />\n                  <label :for=\"item.ID\">{{ item.Specs }}：</label>\n                  <input class=\"specsCount\" type=\"number\" v-model=\"item.Num\" max=\"99\" min=\"1\" placeholder=\"數量\" />\n                </div>\n              </div>\n            </div>\n            <div>\n              <h3>購買數量</h3>\n              <div class=\"goods-choose-content__count\" data-space-left=\"1.5rem\">\n                <i class=\"pi pi-minus\" @click=\"countChange('minus')\"></i>\n                <InputNumber class=\"p-inputtext-sm\" v-model=\"state.count\" />\n                <i class=\"pi pi-plus\" style=\"color: red\" @click=\"countChange('plus')\"></i>\n              </div>\n              <div class=\"like\" v-if=\"state.like === false\" @click=\"handleAddLike\">\n                <i class=\"pi pi-heart\" data-space-left=\"1rem\"></i>\n                <span data-space-left=\"0.5rem\">加入到收藏清單</span>\n              </div>\n              <div class=\"like_finish\" v-else>\n                <i class=\"pi pi-heart-fill\" data-space-left=\"1rem\"></i>\n                <span data-space-left=\"0.5rem\">已加入收藏清單</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"button_buy media\">\n          <button class=\"button_normal\" data-width=\"50%\" @click=\"addCart('add')\">加入購物車</button>\n          <button class=\"button_confirm\" data-width=\"50%\" @click=\"addCart('purchase')\">直接購買</button>\n        </div>\n        <div class=\"button_buy\">\n          <button class=\"button_normal\" data-width=\"50%\" @click=\"addCart('add')\">加入購物車</button>\n          <button class=\"button_confirm\" data-width=\"50%\" @click=\"addCart('purchase')\">直接購買</button>\n        </div>\n      </div>\n      <div class=\"goods-data\">\n        <div class=\"row horizontal h_center\">\n          <div data-width=\"50%\" class=\"row vertical center\">\n            <h1 data-width=\"100%\">商品詳細資訊</h1>\n            <div class=\"color-block\"></div>\n          </div>\n          <h1 data-width=\"50%\" @click=\"$router.push({ name: 'Delivery' })\">送貨及付款方式</h1>\n        </div>\n        <div class=\"wire\"></div>\n        <h2>商品詳細資訊</h2>\n        <p style=\"white-space: pre-wrap\">{{ state.goodsData.Description }}</p>\n      </div>\n      <div class=\"goods-about\">\n        <div>\n          <div data-width=\"100%\" class=\"row vertical center\">\n            <h1 data-width=\"100%\">相關產品</h1>\n            <div class=\"color-block\"></div>\n          </div>\n          <div class=\"wire\"></div>\n        </div>\n        <div class=\"carousel\">\n          <Carousel :value=\"goodsList\" :numVisible=\"4\" :responsiveOptions=\"responsiveOptions\">\n            <template #item=\"slotProps\">\n              <div class=\"goods-item\" @click=\"aboutGoodsRouter(slotProps.data.id)\">\n                <div class=\"goods-item-content\">\n                  <div>\n                    <img :src=\"slotProps.data.src\" alt=\"\" />\n                  </div>\n                  <div>\n                    <h4>{{ slotProps.data.name }}</h4>\n                    <h6>NT {{ slotProps.data.price }}</h6>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </Carousel>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { reactive, onMounted, ref } from 'vue'\nimport { callApi } from '@/utils/callApi'\nimport { addGoodsCart, addLikeList, allLikeList, getGoodsList } from '@/service/api'\nimport { useToast } from 'primevue/usetoast'\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport guideLine from '@/components/guideLine.vue'\n\nexport default {\n  name: 'SpecsDetail',\n  components: {\n    guideLine\n  },\n  setup() {\n    const toast = useToast()\n    const router = useRouter()\n    const store = useStore()\n    const state = reactive({\n      isLogin: store.getters['memberModules/getLogin'],\n      goodsData: [],\n      newGoodsData: [],\n      imgList: [],\n      allSpecsCheckedID: [],\n      currentSpecsChecked: [],\n      checkedStatus: [],\n      count: 1,\n      specsCount: null,\n      cartForm: {\n        GoodsID: null,\n        Specs: []\n      },\n      like: false,\n      purchase: false\n    })\n    const responsiveOptions = ref([\n      {\n        breakpoint: '900px',\n        numVisible: 3,\n        numScroll: 2\n      },\n      {\n        breakpoint: '700px',\n        numVisible: 2,\n        numScroll: 2\n      },\n      {\n        breakpoint: '500px',\n        numVisible: 1,\n        numScroll: 1\n      }\n    ])\n    const goodsList = reactive([\n      {\n        id: 15,\n        name: '蛋白霜檸檬塔',\n        price: 80,\n        src: require('../../assets/goods/meringueTart0.jpg')\n      },\n      {\n        id: 14,\n        name: '卡士達草莓塔',\n        price: 120,\n        src: require('../../assets/goods/strawberryTart.jpg')\n      },\n      {\n        id: 16,\n        name: '柳橙糖霜磅蛋糕',\n        price: 80,\n        src: require('../../assets/goods/poundCake01.jpg')\n      },\n      {\n        id: 1,\n        name: '草莓香草戚風蛋糕',\n        price: 580,\n        src: require('../../assets/goods/strawberryChiffon01.jpg')\n      }\n    ])\n    const guideData = reactive([\n      {\n        label: null,\n        to: '/goodsDetail'\n      }\n    ])\n    //獲得該商品詳細資料\n    const getGoodDetail = onMounted(() => {\n      const data = { ID: localStorage.getItem('goodsDetailID') * 1 }\n      callApi(getGoodsList, data, (res) => {\n        state.goodsData = res.data.Data\n        state.cartForm.GoodsID = state.goodsData.ID\n        state.specsCount = state.goodsData.GoodsSpecs[0].Specs\n        guideData[0].label = state.goodsData.Name\n        state.newGoodsData = state.goodsData.GoodsSpecs.slice(1)\n        getImg()\n        likeStatus()\n      })\n    })\n    //獲得照片\n    const getImg = () => {\n      for (let i in state.goodsData.ImageUrls) {\n        const url = state.goodsData.ImageUrls[i].Url\n        state.imgList.push({ url: process.env.VUE_APP_BASE_API + '/imgs/' + url })\n      }\n    }\n    //需要的商品數量\n    const countChange = (name) => {\n      if (name === 'plus' && state.count < 99) state.count += 1\n      else if (name === 'minus' && state.count > 1) state.count -= 1\n    }\n    // 加入購物車（直接購買 / 單純加入購物車）\n    const addCart = async (method) => {\n      if (state.isLogin === true) {\n        checkSpecs()\n        const totalNum = state.cartForm.Specs.reduce((pre, cur) => {\n          return pre + cur.Num\n        }, 0)\n        if (totalNum == state.specsCount) {\n          state.cartForm.Specs.unshift({\n            SpecID: state.goodsData.GoodsSpecs[0].ID,\n            Num: state.count\n          })\n          const data = state.cartForm\n          callApi(addGoodsCart, data, () => {\n            const type = {\n              add: () => {\n                toast.add({ severity: 'success', summary: '已加入購物車！', group: 'successBox' })\n                state.cartForm.Specs = []\n              },\n              purchase: () => {\n                router.push({ name: 'Cart' })\n                state.cartForm.Specs = []\n              }\n            }\n            type[method]()\n          })\n        } else {\n          toast.add({ severity: 'error', summary: '規格有誤，請再次確認！', group: 'errorBox' })\n          state.cartForm.Specs = []\n        }\n      } else {\n        toast.add({ severity: 'error', summary: '請先登入會員！', group: 'errorBox' })\n      }\n    }\n    //加入到收藏清單\n    const handleAddLike = () => {\n      if (state.isLogin === true) {\n        const data = { GoodsID: state.cartForm.GoodsID }\n        callApi(addLikeList, data, () => {\n          state.like = true\n        })\n      } else {\n        toast.add({ severity: 'error', summary: '請先登入會員！', group: 'errorBox' })\n      }\n    }\n    //判斷收藏清單裡是否已有資料\n    const likeStatus = () => {\n      if (state.isLogin === true) {\n        const data = ''\n        callApi(allLikeList, data, (res) => {\n          for (let i in res.data.Data) {\n            if (res.data.Data[i].GoodsID === state.cartForm.GoodsID) {\n              state.like = true\n            }\n          }\n        })\n      }\n    }\n    //相關產品的路由跳轉\n    const aboutGoodsRouter = (id) => {\n      store.commit('goodsModules/SET_GOODSDETAIL', id)\n      router.push({ name: 'GoodsDetail' })\n    }\n    //限制商品規格的數量\n    const handleSpecsMax = (event) => {\n      if (event.target.checked === true) {\n        if (state.currentSpecsChecked.length < state.goodsData.GoodsSpecs[0].Specs) {\n          state.currentSpecsChecked.push(event.target.value)\n        } else {\n          event.target.checked = false\n          toast.add({ severity: 'error', summary: '已超過數量！', group: 'errorBox' })\n        }\n      } else if (event.target.checked === false) {\n        state.currentSpecsChecked = state.currentSpecsChecked.filter((item) => {\n          return item !== event.target.value\n        })\n      }\n    }\n    //檢查商品數量是否正確\n    const checkSpecs = () => {\n      for (let i in state.goodsData.GoodsSpecs) {\n        for (let j in state.allSpecsCheckedID) {\n          if (state.goodsData.GoodsSpecs[i].ID === state.allSpecsCheckedID[j]) {\n            state.cartForm.Specs.push({\n              SpecID: state.goodsData.GoodsSpecs[i].ID,\n              Num: state.goodsData.GoodsSpecs[i].Num\n            })\n          }\n        }\n      }\n    }\n    return {\n      state,\n      responsiveOptions,\n      getGoodDetail,\n      guideData,\n      goodsList,\n      likeStatus,\n      handleAddLike,\n      addCart,\n      countChange,\n      aboutGoodsRouter,\n      handleSpecsMax\n    }\n  }\n}\n</script>\n","import { render } from \"./specsDetail.vue?vue&type=template&id=6f0abe3c\"\nimport script from \"./specsDetail.vue?vue&type=script&lang=js\"\nexport * from \"./specsDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/risu_ann/Documents/web/dessert_work/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}