(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28de11a3"],{"00e8":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r=e=>{const t=e=>{Object.keys(e).map(a=>{if(e[a]===Object(e[a]))return t(e[a]),void(e[a]instanceof Array&&(e[a]=[]));{const t=e[a];switch(typeof t){case"string":e[a]="";break;case"number":e[a]=0;break;case"object":e[a]=t instanceof Array?[]:{};break;case"boolean":e[a]=!1;break;default:e[a]=void 0;break}}})};t(e)}},"504f":function(e,t,a){"use strict";a.r(t);var r=a("7a23");const m={class:"homepage container"},s={class:"row horizontal v_center","data-space-bottom":"2rem"},o=Object(r["j"])("i",{class:"pi pi-user",style:{"font-size":"1.5rem"}},null,-1),l={"data-space-left":"1rem"},c={class:"member-level"},b=Object(r["j"])("div",{class:"row horizontal v_center","data-space-bottom":"1rem"},[Object(r["j"])("i",{class:"pi pi-pencil",style:{"font-size":"1rem"}}),Object(r["j"])("p",{"data-space-left":"1rem"},"編輯會員資料")],-1),n={class:"member-edit"},d={class:"member-detail"},j=Object(r["j"])("p",null,"姓名*",-1),i={key:0},u={class:"member-detail"},O=Object(r["j"])("p",null,"電子郵件*",-1),p={key:0},v={class:"member-detail"},h=Object(r["j"])("p",null,"聯絡電話",-1),f={key:0},w={class:"member-detail","data-space-bottom":"2rem"},F=Object(r["j"])("p",null,"寄件地址",-1),y=Object(r["j"])("hr",null,null,-1),V=Object(r["j"])("p",null,"如若不需更改密碼，請直接留空",-1),P={class:"member-detail"},k=Object(r["j"])("p",null,"原始密碼",-1),g={class:"member-detail"},x=Object(r["j"])("p",null,"設定新密碼",-1),C={key:0},E={class:"member-detail","data-space-bottom":"2rem"},L=Object(r["j"])("p",null,"確認新密碼",-1),$={key:0},D=Object(r["j"])("hr",null,null,-1),N={class:"member-detail_exception"},U=Object(r["j"])("p",null,"電子報",-1),A={class:"field-radiobutton"},B=Object(r["j"])("label",{for:"news1","data-space-left":"0.5rem"},"訂閱",-1),_={"data-space-left":"1rem"},z=Object(r["j"])("label",{for:"news2","data-space-left":"0.5rem"},"不訂閱",-1),R=Object(r["j"])("span",null,"訂閱商品/活動訊息，我們將不定期透過email通知最新商品活動及優惠訊息。",-1),M={class:"row horizontal","data-space-top":"3rem"};function S(e,t,a,S,T,q){const H=Object(r["L"])("InputText"),I=Object(r["L"])("RadioButton");return Object(r["F"])(),Object(r["i"])("div",m,[Object(r["j"])("div",s,[o,Object(r["j"])("p",l,Object(r["P"])(S.state.memberForm.account),1),Object(r["j"])("div",c,Object(r["P"])(S.state.benefitsList.level),1)]),b,Object(r["j"])("div",n,[Object(r["j"])("div",d,[j,Object(r["n"])(H,{type:"text",modelValue:S.state.memberForm.Name,"onUpdate:modelValue":t[0]||(t[0]=e=>S.state.memberForm.Name=e)},null,8,["modelValue"]),S.v$.Name.$error?(Object(r["F"])(),Object(r["i"])("span",i,Object(r["P"])("請輸入兩字以上名字"))):Object(r["h"])("",!0)]),Object(r["j"])("div",u,[O,Object(r["n"])(H,{type:"text",modelValue:S.state.memberForm.Email,"onUpdate:modelValue":t[1]||(t[1]=e=>S.state.memberForm.Email=e)},null,8,["modelValue"]),S.v$.Email.$error?(Object(r["F"])(),Object(r["i"])("span",p,Object(r["P"])("請輸入電子郵件"))):Object(r["h"])("",!0)]),Object(r["j"])("div",v,[h,Object(r["n"])(H,{type:"text",modelValue:S.state.memberForm.Phone,"onUpdate:modelValue":t[2]||(t[2]=e=>S.state.memberForm.Phone=e)},null,8,["modelValue"]),S.v$.Phone.$error?(Object(r["F"])(),Object(r["i"])("span",f,Object(r["P"])("請輸入正確的聯絡電話"))):Object(r["h"])("",!0)]),Object(r["j"])("div",w,[F,Object(r["n"])(H,{type:"text",modelValue:S.state.memberForm.Address,"onUpdate:modelValue":t[3]||(t[3]=e=>S.state.memberForm.Address=e)},null,8,["modelValue"])]),y,V,Object(r["j"])("div",P,[k,Object(r["n"])(H,{type:"password"})]),Object(r["j"])("div",g,[x,Object(r["n"])(H,{type:"password",modelValue:S.state.memberForm.Password,"onUpdate:modelValue":t[4]||(t[4]=e=>S.state.memberForm.Password=e)},null,8,["modelValue"]),S.v$.Password.$error?(Object(r["F"])(),Object(r["i"])("span",C,Object(r["P"])("密碼請輸入最少8位以上"))):Object(r["h"])("",!0)]),Object(r["j"])("div",E,[L,Object(r["n"])(H,{type:"password",modelValue:S.state.pwdConfirm,"onUpdate:modelValue":t[5]||(t[5]=e=>S.state.pwdConfirm=e)},null,8,["modelValue"]),S.state.pwdConfirm!==S.state.memberForm.Password?(Object(r["F"])(),Object(r["i"])("span",$,Object(r["P"])("請再次輸入密碼"))):Object(r["h"])("",!0)]),D,Object(r["j"])("div",N,[U,Object(r["j"])("div",A,[Object(r["n"])(I,{id:"news1",name:"news",value:!0,modelValue:S.state.checked,"onUpdate:modelValue":t[6]||(t[6]=e=>S.state.checked=e)},null,8,["modelValue"]),B]),Object(r["j"])("div",_,[Object(r["n"])(I,{id:"news2",name:"news",value:!1,modelValue:S.state.checked,"onUpdate:modelValue":t[7]||(t[7]=e=>S.state.checked=e)},null,8,["modelValue"]),z])]),R,Object(r["j"])("div",M,[Object(r["j"])("button",{class:"button_cancel",onClick:t[8]||(t[8]=(...e)=>S.handleReset&&S.handleReset(...e)),"data-space-right":"1rem"},"重新填寫"),Object(r["j"])("button",{class:"button_confirm",onClick:t[9]||(t[9]=(...e)=>S.memberVerify&&S.memberVerify(...e))},"儲存變更")])])])}var T=a("408b"),q=a("46ef"),H=a("00e8"),I=a("18cb"),J=a("e3e1"),G=a("25a0"),K=a("5502"),Q={name:"Homepage",setup(){Object(r["r"])("reload");const e=Object(I["b"])(),t=Object(K["b"])(),a=Object(r["H"])({memberForm:{account:"",Name:"",Email:"",Phone:"",Address:"",Password:""},checked:!0,pwdConfirm:"",benefits:{},benefitsList:{level:"",nextLevel:"",nextLevelCash:""},levels:[{threshold:0,name:"銅級會員"},{threshold:5e3,name:"銀級會員"},{threshold:1e4,name:"金級會員"},{threshold:2e4,name:"白金會員"}]}),m=Object(r["e"])(()=>({Name:{required:J["c"],minLength:Object(J["b"])(2)},Email:{required:J["c"],email:J["a"]},Password:{minLength:Object(J["b"])(8)},pwdConfirm:{sameAs:Object(J["d"])(a.memberForm.Password)},Phone:{minLength:Object(J["b"])(10)}})),s=Object(G["a"])(m,a.memberForm),o=Object(r["D"])(async()=>{console.log(s);const e="";await Object(q["a"])(T["o"],e,e=>{a.memberForm.Name=e.data.Data.Name,a.memberForm.Email=e.data.Data.Email,a.memberForm.Phone=e.data.Data.Phone,a.memberForm.Address=e.data.Data.Address,a.memberForm.account=e.data.Data.Account})}),l=()=>{Object(H["a"])(a.memberForm),o()},c=async()=>{s.value.$validate();const t=a.memberForm;s.value.$error||""===a.memberForm.Name||""===a.memberForm.Email?e.add({severity:"error",summary:"填寫錯誤，請重新填寫",group:"errorBox"}):a.memberForm.Password!==a.pwdConfirm?e.add({severity:"error",summary:"輸入錯入，請重新輸入！",group:"errorBox"}):Object(q["a"])(T["s"],t,()=>{o(),e.add({severity:"success",summary:"更新成功！",group:"successBox"})})},b=()=>{s.value.$validate(),a.memberForm.Name&&a.memberForm.Email?a.memberForm.Password&&a.pwdConfirm&&a.memberForm.Password!==a.pwdConfirm?e.add({severity:"error",summary:"密碼輸入錯誤！",group:"errorBox"}):n():e.add({severity:"error",summary:"必填格式空白或錯誤！",group:"errorBox"})},n=()=>{const t=a.memberForm;Object(q["a"])(T["s"],t,()=>{o(),e.add({severity:"success",summary:"更新成功！",group:"successBox"})})},d=Object(r["D"])(()=>{const e="";Object(q["a"])(T["d"],e,e=>{a.benefits={...e.data.Data},j()})}),j=()=>{const e=a.benefits.Consumption,r=a.levels.find(t=>e>=t.threshold),m=a.levels.find(t=>e<t.threshold),s=m.threshold-e;a.benefitsList={level:r.name,nextLevel:m.name,nextLevelCash:s},t.commit("memberModules/SET_USERBENEFITS",a.benefitsList)};return{state:a,getMemberData:o,rules:m,v$:s,getBenefitsData:d,handleReset:l,handleMemberUpdate:c,memberVerify:b}}},W=a("6b0d"),X=a.n(W);const Y=X()(Q,[["render",S]]);t["default"]=Y}}]);
//# sourceMappingURL=chunk-28de11a3.42345b86.js.map